<div class="user-detail-container">
  <!-- En-tÃªte avec bouton retour -->
  <div class="detail-header">
    <button class="back-button" (click)="goBack()">
      <span class="back-icon">â†</span> Retour Ã  la liste
    </button>
    <h1>DÃ©tails de l'utilisateur</h1>
    <div class="header-actions">
      <button class="btn edit-btn" (click)="editUser()">âœï¸ Modifier</button>
      <button class="btn delete-btn" (click)="deleteUser()">ğŸ—‘ï¸ Supprimer</button>
    </div>
  </div>

  <!-- Indicateur de chargement -->
  @if (isLoading) {
    <div class="loading-container">
      <div class="loading-spinner"></div>
      <p>Chargement des dÃ©tails...</p>
    </div>
  } @else if (user) {
    <!-- Carte de dÃ©tail de l'utilisateur -->
    <div class="user-detail-card">
      <!-- En-tÃªte de la carte avec nom et statut -->
      <div class="card-header">
        <div class="user-avatar">
          {{ getInitials() }}
        </div>
        <div class="user-title">
          <h2>{{ user.name }}</h2>
          <div class="user-meta">
            <span class="badge" [class]="getRoleClass()">{{ user.role }}</span>
            <span class="status-badge" [class]="getStatusClass()">
              {{ getStatusText() }}
            </span>
          </div>
        </div>
        <button class="status-toggle" [class.active]="isActive()" (click)="toggleStatus()">
          {{ getToggleButtonText() }}
        </button>
      </div>

      <!-- Informations principales -->
      <div class="card-body">
        <div class="info-section">
          <h3>Informations personnelles</h3>
          <div class="info-grid">
            <div class="info-item">
              <span class="info-label">Email</span>
              <span class="info-value">{{ getEmail() }}</span>
            </div>
            <div class="info-item">
              <span class="info-label">TÃ©lÃ©phone</span>
              <span class="info-value">{{ getPhone() }}</span>
            </div>
            <div class="info-item">
              <span class="info-label">Date de crÃ©ation</span>
              <span class="info-value">{{ getCreated() }}</span>
            </div>
            <div class="info-item">
              <span class="info-label">ID Famille</span>
              <span class="info-value">{{ getFamilyId() }}</span>
            </div>
          </div>
        </div>

        <!-- Adresse -->
        @if (user.address) {
          <div class="info-section">
            <h3>Adresse</h3>
            <div class="info-item full-width">
              <span class="info-label">Adresse complÃ¨te</span>
              <span class="info-value">{{ getAddress() }}</span>
            </div>
          </div>
        }

        <!-- DerniÃ¨re connexion -->
        <div class="info-section">
          <h3>ActivitÃ©</h3>
          <div class="info-item">
            <span class="info-label">DerniÃ¨re connexion</span>
            <span class="info-value">{{ getLastLogin() }}</span>
          </div>
        </div>

        <!-- Notes -->
        @if (user.notes) {
          <div class="info-section">
            <h3>Notes</h3>
            <div class="notes-container">
              <p>{{ getNotes() }}</p>
            </div>
          </div>
        }

        <!-- Actions supplÃ©mentaires -->
        <div class="actions-section">
          <button class="btn action-btn message-btn">
            ğŸ“§ Envoyer un message
          </button>
          <button class="btn action-btn reset-btn">
            ğŸ”„ RÃ©initialiser le mot de passe
          </button>
          <button class="btn action-btn logs-btn">
              ğŸ“‹ Voir les journaux d'activitÃ©
          </button>
        </div>
      </div>
    </div>
  } @else {
    <!-- Message si aucun utilisateur trouvÃ© -->
    <div class="no-data">
      <p>Aucun utilisateur trouvÃ© avec cet ID.</p>
      <button class="btn back-btn" (click)="goBack()">Retour Ã  la liste</button>
    </div>
  }
</div>